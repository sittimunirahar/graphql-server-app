/// <reference types="node" />
import type { Options as HttpCacheSemanticsOptions } from 'http-cache-semantics';
import type { Fetcher, FetcherResponse } from '@apollo/utils.fetcher';
import { type KeyValueCache } from '@apollo/utils.keyvaluecache';
import type { CacheOptions, RequestOptions, ValueOrPromise } from './RESTDataSource';
interface ResponseWithCacheWritePromise {
    response: FetcherResponse;
    cacheWritePromise?: Promise<void>;
}
export declare class HTTPCache<CO extends CacheOptions = CacheOptions> {
    private keyValueCache;
    private httpFetch;
    constructor(keyValueCache?: KeyValueCache, httpFetch?: Fetcher);
    fetch(url: URL, requestOpts?: RequestOptions<CO>, cache?: {
        cacheKey?: string;
        cacheOptions?: CO | ((url: string, response: FetcherResponse, request: RequestOptions<CO>) => ValueOrPromise<CO | undefined>);
        httpCacheSemanticsCachePolicyOptions?: HttpCacheSemanticsOptions;
    }): Promise<ResponseWithCacheWritePromise>;
    private storeResponseAndReturnClone;
    private readResponseAndWriteToCache;
}
export {};
//# sourceMappingURL=HTTPCache.d.ts.map